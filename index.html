<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wavelength Online Pro</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <style>
        body { font-family: -apple-system, sans-serif; background-color: #1a1a1a; color: #fff; text-align: center; padding: 20px; user-select: none; }
        .card { background: #2d2d2d; padding: 20px; border-radius: 15px; max-width: 500px; margin: 0 auto; border-top: 5px solid #555; }
        .btn { background-color: #555; border: none; color: white; padding: 15px 0; width: 100%; border-radius: 50px; font-size: 16px; margin: 5px 0; cursor: pointer; font-weight: bold; transition: opacity 0.3s; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; background-color: #777; }
        .btn-green { background-color: #4CAF50; }
        .btn-blue { background-color: #2196F3; }
        .btn-red { background-color: #F44336; }
        .hidden { display: none !important; }
        .big-number { font-size: 60px; font-weight: bold; color: #ffeb3b; margin: 20px 0; }
        
        input[type=range] { width: 100%; margin: 30px 0; cursor: pointer; }

        /* „ÉÅ„Éº„É†ÈÅ∏Êäû„Éª„Éó„É¨„Ç§„É§„Éº„É™„Çπ„Éà */
        .lobby-container { display: flex; justify-content: space-between; gap: 10px; margin-bottom: 20px; }
        .team-column { flex: 1; background: #333; padding: 10px; border-radius: 8px; border-top: 3px solid #777; }
        .team-header { font-weight: bold; margin-bottom: 5px; font-size: 14px; }
        .player-list { min-height: 50px; font-size: 13px; text-align: left; margin-bottom: 10px; }
        .p-item { padding: 2px 5px; border-radius: 4px; margin-bottom: 2px; background: rgba(255,255,255,0.1); }
        .p-me { border: 1px solid #fff; font-weight: bold; }
        .p-psychic::after { content: " ‚òÖË¶™"; color: #ff9800; font-size: 11px; }

        .my-team-badge { background: #555; padding: 5px 15px; border-radius: 20px; font-size: 12px; display: inline-block; margin-bottom: 10px; }
        .result-viz-container { position: relative; width: 100%; height: 60px; background-color: #444; border-radius: 8px; margin: 15px 0; overflow: hidden; }
        .zone { position: absolute; height: 100%; top: 0; opacity: 0.8; }
        .zone-2 { background-color: #4fc3f7; } .zone-3 { background-color: #ffd740; } .zone-4 { background-color: #ff6e40; }
        .guess-pin { position: absolute; top: 0; width: 4px; height: 100%; background-color: #fff; z-index: 10; box-shadow: 0 0 4px #000; transition: left 0.2s; }
        .target-pin { position: absolute; top: 0; width: 2px; height: 100%; background-color: #ffeb3b; z-index: 5; opacity: 0.5; border-left: 1px dashed #000; }
    </style>
</head>
<body>

    <div id="screen-login" class="card">
        <h1>Wavelength Online</h1>
        <div style="margin-bottom: 20px;">
            <p>ÂêçÂâç„ÇíÂÖ•Âäõ</p>
            <input type="text" id="input-name" placeholder="„ÅÇ„Å™„Åü„ÅÆÂêçÂâç" style="padding:10px; font-size:16px; width:80%; text-align:center; margin-bottom:10px;">
            <p>ÂêàË®ÄËëâ (ÈÉ®Â±ãID)</p>
            <input type="text" id="input-room" placeholder="‰æã: 0119" style="padding:10px; font-size:16px; width:80%; text-align:center;">
        </div>
        <button id="btn-login" class="btn btn-green" onclick="connectToRoom()">„É≠„Éì„Éº„Å∏ÂÖ•ÂÆ§</button>
    </div>

    <div id="screen-game" class="card hidden">
        <div style="display:flex; justify-content:space-between; font-size:12px; color:#aaa; margin-bottom:5px;">
            <span>Room: <span id="display-room-id" style="color:#fff;"></span></span>
            <span id="connection-status">Êé•Á∂ö‰∏≠...</span>
        </div>

        <div id="my-status-area">
            <span class="my-team-badge">Ë¶≥Êà¶‰∏≠ („ÉÅ„Éº„É†„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ)</span>
        </div>

        <div class="lobby-container">
            <div class="team-column" style="border-top-color: #2196F3;">
                <div class="team-header">TEAM A (<span id="count-a">0</span>)</div>
                <div id="list-a" class="player-list"></div>
                <button class="btn btn-blue" style="font-size:12px;" onclick="joinTeam('A')">A„Å´ÂèÇÂä†</button>
                <div style="font-size:20px; font-weight:bold; margin-top:5px;" id="score-a">0</div>
            </div>
            <div class="team-column" style="border-top-color: #F44336;">
                <div class="team-header">TEAM B (<span id="count-b">0</span>)</div>
                <div id="list-b" class="player-list"></div>
                <button class="btn btn-red" style="font-size:12px;" onclick="joinTeam('B')">B„Å´ÂèÇÂä†</button>
                <div style="font-size:20px; font-weight:bold; margin-top:5px;" id="score-b">0</div>
            </div>
        </div>

        <p id="status-text" style="font-size:18px; font-weight:bold; color:#ffeb3b; min-height: 27px; margin: 10px 0;">
            „ÉÅ„Éº„É†„ÇíÈÅ∏„Çì„Åß„Åè„Å†„Åï„ÅÑ
        </p>

        <div id="phase-waiting" class="hidden">
            <button class="btn btn-green" onclick="startNewRound(true)">„Ç≤„Éº„É†„Çπ„Çø„Éº„Éà</button>
        </div>

        <div id="phase-psychic" class="hidden">
            <div id="view-psychic-active" class="hidden">
                <p style="background:#ff9800; color:#000; display:inline-block; padding:2px 8px; border-radius:4px; font-size:12px;">„ÅÇ„Å™„Åü„ÅØË¶™„Åß„Åô</p>
                <p>Êï∞ÂÄ§„ÇíÁ¢∫Ë™ç„Åó„Å¶„Éí„É≥„Éà„ÇíÂá∫„Åù„ÅÜ</p>
                <div class="big-number" id="secret-target">??</div>
                <button class="btn" onclick="nextPhase('GUESS')">„Éí„É≥„Éà„ÇíÂá∫„Åó„Åü (ÂõûÁ≠î„Å∏)</button>
            </div>
            <div id="view-psychic-wait">
                <div class="big-number" style="font-size:40px; color:#555;">SECRET</div>
            </div>
        </div>

        <div id="phase-guess" class="hidden">
            <div id="slider-msg" style="font-size:12px; color:#aaa;"></div>
            <div class="big-number" id="guess-display">50</div>
            <input type="range" id="slider" min="0" max="100" value="50" oninput="onSliderChange(this.value)" onchange="onSliderChange(this.value)">
            <button id="btn-submit-guess" class="btn hidden" onclick="nextPhase('COUNTER')">‰∫àÊÉ≥„ÇíÁ¢∫ÂÆö„Åô„Çã</button>
        </div>

        <div id="phase-counter" class="hidden">
            <p>Êïµ„ÉÅ„Éº„É†„ÅÆ„ÉÅ„É£„É≥„ÇπÔºÅ<br>Ê≠£Ëß£„ÅØ‰∫àÊÉ≥(<span id="locked-guess"></span>)„Çà„Çä...</p>
            <div style="display:flex; justify-content:space-between;">
                <button id="btn-left" class="btn hidden" style="width:48%" onclick="submitCounter('Left')">‚¨ÖÔ∏è Â∑¶</button>
                <button id="btn-right" class="btn hidden" style="width:48%" onclick="submitCounter('Right')">Âè≥ ‚û°Ô∏è</button>
            </div>
            <p id="counter-wait-msg" style="font-size:12px; color:#aaa; margin-top:10px;">Êïµ„ÉÅ„Éº„É†„ÅÆÊìç‰ΩúÂæÖ„Å°...</p>
        </div>

        <div id="phase-result" class="hidden">
            <div class="result-viz-container" id="viz-bar"></div>
            <div id="result-details" style="text-align:left; font-size:14px; line-height:1.6;"></div>
            <button class="btn btn-green" onclick="startNewRound()">Ê¨°„ÅÆ„É©„Ç¶„É≥„Éâ„Å∏</button>
        </div>

        <div id="phase-win" class="hidden">
            <h1>WINNER!</h1>
            <div style="font-size:60px;">üèÜ</div>
            <h2 id="winner-name">TEAM A</h2>
            <button class="btn btn-red" onclick="startNewRound(true)">„É™„Çª„ÉÉ„Éà„Åó„Å¶ÂÜçÊà¶</button>
        </div>
    </div>

    <script>
        // ‚òÖ‚òÖ‚òÖ FirebaseË®≠ÂÆö („Åì„Åì„ÇíÊõ∏„ÅçÊèõ„Åà„Å¶„Åè„Å†„Åï„ÅÑÔºÅ) ‚òÖ‚òÖ‚òÖ
        const firebaseConfig = {
  apiKey: "AIzaSyDTnNp8ObeesaXjjBQqlC1MPLPh8V5SfPM",
  authDomain: "wavelength-online-2c27b.firebaseapp.com",
  databaseURL: "https://wavelength-online-2c27b-default-rtdb.firebaseio.com",
  projectId: "wavelength-online-2c27b",
  storageBucket: "wavelength-online-2c27b.firebasestorage.app",
  messagingSenderId: "1057840306391",
  appId: "1:1057840306391:web:432e632f9af1f286643892"
};
        // ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ

        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        let myId = localStorage.getItem('wl_uid');
        if (!myId) {
            myId = Math.random().toString(36).substring(2, 15);
            localStorage.setItem('wl_uid', myId);
        }

        let myName = "";
        let myTeam = ""; 
        let roomId = "";
        let gameState = {};
        
        const WIN_SCORE = 10;
        const RANGES = { w4: 2, w3: 5, w2: 8 };
        const TEAM_CONF = { A: {color:"#2196F3", name:"TEAM A"}, B: {color:"#F44336", name:"TEAM B"} };

        // Êé•Á∂öÂá¶ÁêÜ („Ç®„É©„Éº„Éè„É≥„Éâ„É™„É≥„Ç∞ËøΩÂä†Áâà)
        function connectToRoom() {
            const name = document.getElementById('input-name').value;
            const room = document.getElementById('input-room').value;
            if (!name || !room) return alert("ÂêçÂâç„Å®ÈÉ®Â±ãID„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ");

            // „Éú„Çø„É≥„Çí„É≠„ÉÉ„ÇØ
            const loginBtn = document.getElementById('btn-login');
            loginBtn.disabled = true;
            loginBtn.innerText = "Êé•Á∂ö‰∏≠...";

            myName = name;
            roomId = "wl_room_" + room;
            document.getElementById('display-room-id').innerText = room;
            
            // ‚òÖÊé•Á∂ö„ÉÜ„Çπ„Éà‚òÖ ÂÆüÈöõ„Å´Êõ∏„ÅçËæº„Çì„Åß„Åø„Çã
            db.ref(`${roomId}/players/${myId}`).update({
                name: myName,
                online: true
            })
            .then(() => {
                // ÊàêÂäü„Åó„Åü„Çâ„Åì„Åì„Å´Êù•„Çã
                db.ref(`${roomId}/players/${myId}/online`).onDisconnect().remove();

                document.getElementById('screen-login').classList.add('hidden');
                document.getElementById('screen-game').classList.remove('hidden');

                // Áõ£Ë¶ñÈñãÂßã
                db.ref(roomId).on('value', snapshot => {
                    const data = snapshot.val();
                    if (data) {
                        gameState = data;
                        renderGame();
                    } else {
                        gameState = { phase: 'WAITING', players: {} };
                        renderGame();
                    }
                });
            })
            .catch((error) => {
                // Â§±Êïó„Åó„Åü„Çâ„Åì„Åì„Å´Êù•„Çã
                alert("„Ç®„É©„ÉºÔºöÊé•Á∂ö„Åß„Åç„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇ\n\n„ÄêÂéüÂõ†„ÅÆÂèØËÉΩÊÄß„Äë\n1. index.htmlÂÜÖ„ÅÆAPI Key„ÅåÊõ∏„ÅçÂ§â„Çè„Å£„Å¶„ÅÑ„Å™„ÅÑ\n2. Firebase„ÅÆDatabase„É´„Éº„É´„ÅåÊõ∏„ÅçËæº„ÅøÁ¶ÅÊ≠¢(read:false/write:false)„Å´„Å™„Å£„Å¶„ÅÑ„Çã\n\nË©≥Á¥∞: " + error.message);
                loginBtn.disabled = false;
                loginBtn.innerText = "„É≠„Éì„Éº„Å∏ÂÖ•ÂÆ§";
            });
        }

        // „ÉÅ„Éº„É†„Å´ÂèÇÂä†
        function joinTeam(team) {
            myTeam = team;
            // „Ç®„É©„Éº„ÅåÂá∫„Åü„Çâ„Ç¢„É©„Éº„Éà„Åô„Çã
            db.ref(`${roomId}/players/${myId}`).update({
                team: team,
                name: myName
            }).catch(e => alert("„ÉÅ„Éº„É†ÂèÇÂä†„Ç®„É©„Éº: " + e.message));
        }

        function startNewRound(fullReset = false) {
            let scores = { A: 0, B: 0 };
            let round = 1;
            let nextTeam = 'A';
            const players = gameState.players || {};

            if (!fullReset && gameState.scores) {
                scores = gameState.scores;
                round = gameState.round + 1;
                nextTeam = gameState.currentTeam === 'A' ? 'B' : 'A';
            } else {
                nextTeam = Math.random() < 0.5 ? 'A' : 'B';
            }

            const teamMembers = Object.keys(players).filter(uid => {
                const p = players[uid];
                return p.team === nextTeam && p.online; 
            });
            
            let psychicId = null;
            if (teamMembers.length > 0) {
                psychicId = teamMembers[Math.floor(Math.random() * teamMembers.length)];
            }

            db.ref(roomId).update({
                phase: 'PSYCHIC',
                currentTeam: nextTeam,
                psychicId: psychicId,
                target: Math.floor(Math.random() * 101),
                guess: 50,
                scores: scores,
                round: round,
                counterGuess: null,
                resultData: null
            });
        }

        function onSliderChange(val) {
            if (gameState.phase !== 'GUESS') return;
            if (gameState.currentTeam === myTeam && gameState.psychicId !== myId) {
                db.ref(roomId).update({ guess: parseInt(val) });
            }
        }

        function nextPhase(next) {
            if (next === 'GUESS' && myId !== gameState.psychicId) return;
            if (next === 'COUNTER') {
                 if (myTeam !== gameState.currentTeam || myId === gameState.psychicId) return;
            }
            db.ref(roomId).update({ phase: next });
        }

        function submitCounter(direction) {
            if (myTeam === gameState.currentTeam) return; 

            const target = gameState.target;
            const guess = gameState.guess;
            const active = gameState.currentTeam;
            const inactive = active === 'A' ? 'B' : 'A';

            let diff = Math.abs(target - guess);
            let finalDiff = Math.min(diff, 100 - diff);

            let activePts = 0;
            if (finalDiff === 0) activePts = 5;
            else if (finalDiff <= RANGES.w4) activePts = 4;
            else if (finalDiff <= RANGES.w3) activePts = 3;
            else if (finalDiff <= RANGES.w2) activePts = 2;

            let inactivePts = 0;
            let resultMsg = "";
            let counterStr = direction === 'Right' ? 'Âè≥' : 'Â∑¶';

            if (finalDiff === 0) {
                resultMsg = "ÂÆåÂÖ®‰∏ÄËá¥„ÅÆ„Åü„ÇÅ„Éú„Éº„Éä„Çπ„Å™„Åó";
            } else {
                let d = target - guess;
                if (d > 50) d -= 100;
                if (d < -50) d += 100;
                let trueDir = d > 0 ? 'Right' : 'Left';
                
                if (direction === trueDir) {
                    inactivePts = 1;
                    resultMsg = "„ÉÅ„É£„É≥„ÇπÊàêÂäüÔºÅ (+1ÁÇπ)";
                    counterStr += " ‚Üí Ê≠£Ëß£ÔºÅ";
                } else {
                    resultMsg = "„ÉÅ„É£„É≥„ÇπÂ§±Êïó...";
                    counterStr += " ‚Üí „Éè„Ç∫„É¨";
                }
            }

            let newScores = { ...gameState.scores };
            newScores[active] += activePts;
            newScores[inactive] += inactivePts;

            db.ref(roomId).update({
                scores: newScores,
                counterGuess: direction,
                resultData: { activePts, inactivePts, finalDiff, msg: resultMsg, counterStr: counterStr },
                phase: (newScores.A >= WIN_SCORE || newScores.B >= WIN_SCORE) ? 'WIN' : 'RESULT'
            });
        }

        function renderGame() {
            const g = gameState;
            const players = g.players || {};

            document.getElementById('connection-status').innerText = "ÈÄö‰ø°OK";
            const badge = document.querySelector('.my-team-badge');
            if (!myTeam) {
                badge.innerText = "Ë¶≥Êà¶‰∏≠ („ÉÅ„Éº„É†„Å´ÂèÇÂä†„Åó„Å¶„Åè„Å†„Åï„ÅÑ)";
                badge.style.background = "#555";
            } else {
                badge.innerText = "„ÅÇ„Å™„Åü„ÅØ " + TEAM_CONF[myTeam].name + " „Åß„Åô";
                badge.style.background = TEAM_CONF[myTeam].color;
            }

            const listA = document.getElementById('list-a');
            const listB = document.getElementById('list-b');
            listA.innerHTML = ""; listB.innerHTML = "";
            let countA = 0, countB = 0;

            Object.keys(players).forEach(uid => {
                const p = players[uid];
                if (!p.online) return; 

                const div = document.createElement('div');
                div.className = "p-item" + (uid === myId ? " p-me" : "") + (uid === g.psychicId ? " p-psychic" : "");
                div.innerText = p.name;

                if (p.team === 'A') { listA.appendChild(div); countA++; }
                else if (p.team === 'B') { listB.appendChild(div); countB++; }
            });
            document.getElementById('count-a').innerText = countA;
            document.getElementById('count-b').innerText = countB;

            document.getElementById('score-a').innerText = g.scores ? g.scores.A : 0;
            document.getElementById('score-b').innerText = g.scores ? g.scores.B : 0;

            ['waiting', 'psychic', 'guess', 'counter', 'result', 'win'].forEach(id => {
                document.getElementById('phase-' + id).classList.add('hidden');
            });

            if (!g.phase || g.phase === 'WAITING') {
                document.getElementById('status-text').innerText = "„É°„É≥„Éê„Éº„ÅåÈõÜ„Åæ„Å£„Åü„ÇâÈñãÂßã„Åó„Å¶„Åè„Å†„Åï„ÅÑ";
                document.getElementById('phase-waiting').classList.remove('hidden');
                return;
            }

            const tmConf = TEAM_CONF[g.currentTeam] || {name:"", color:"#fff"};
            const statusEl = document.getElementById('status-text');
            statusEl.style.color = tmConf.color;

            const isActiveTeam = (myTeam === g.currentTeam);
            const isPsychic = (myId === g.psychicId);
            const isEnemy = (myTeam && !isActiveTeam);

            if (g.phase === 'PSYCHIC') {
                document.getElementById('phase-psychic').classList.remove('hidden');
                const pName = players[g.psychicId] ? players[g.psychicId].name : "Ë¶™";
                statusEl.innerText = `${tmConf.name} (${pName}) „ÅÆÂá∫È°å`;
                
                if (isPsychic) {
                    document.getElementById('view-psychic-active').classList.remove('hidden');
                    document.getElementById('view-psychic-wait').classList.add('hidden');
                    document.getElementById('secret-target').innerText = g.target;
                } else {
                    document.getElementById('view-psychic-active').classList.add('hidden');
                    document.getElementById('view-psychic-wait').classList.remove('hidden');
                }
            } 
            else if (g.phase === 'GUESS') {
                document.getElementById('phase-guess').classList.remove('hidden');
                statusEl.innerText = `${tmConf.name} „ÅåÁõ∏Ë´á‰∏≠...`;
                
                document.getElementById('guess-display').innerText = g.guess;
                const slider = document.getElementById('slider');
                slider.value = g.guess;
                slider.style.accentColor = tmConf.color;

                const submitBtn = document.getElementById('btn-submit-guess');
                const msg = document.getElementById('slider-msg');

                if (isActiveTeam && !isPsychic) {
                    slider.disabled = false;
                    submitBtn.classList.remove('hidden');
                    msg.innerText = "„Çπ„É©„Ç§„ÉÄ„Éº„ÇíÂãï„Åã„Åó„Å¶Ê±∫ÂÆö„Åó„Å¶„Åè„Å†„Åï„ÅÑ";
                } else {
                    slider.disabled = true;
                    submitBtn.classList.add('hidden');
                    msg.innerText = isPsychic ? "Ë¶™„ÅØÊìç‰Ωú„Åß„Åç„Åæ„Åõ„Çì" : "Áõ∏Êâã„ÉÅ„Éº„É†„ÅåÊìç‰Ωú‰∏≠...";
                }
            }
            else if (g.phase === 'COUNTER') {
                document.getElementById('phase-counter').classList.remove('hidden');
                const enemyConf = TEAM_CONF[g.currentTeam === 'A' ? 'B' : 'A'];
                statusEl.innerText = `${enemyConf.name} „ÅÆ„ÉÅ„É£„É≥„ÇπÔºÅ`;
                statusEl.style.color = enemyConf.color;
                document.getElementById('locked-guess').innerText = g.guess;

                if (isEnemy) {
                    document.getElementById('btn-left').classList.remove('hidden');
                    document.getElementById('btn-right').classList.remove('hidden');
                    document.getElementById('counter-wait-msg').classList.add('hidden');
                } else {
                    document.getElementById('btn-left').classList.add('hidden');
                    document.getElementById('btn-right').classList.add('hidden');
                    document.getElementById('counter-wait-msg').classList.remove('hidden');
                }
            }
            else if (g.phase === 'RESULT') {
                document.getElementById('phase-result').classList.remove('hidden');
                statusEl.innerText = "ÁµêÊûúÁô∫Ë°®";
                statusEl.style.color = "#fff";
                drawVisualResult(g.target, g.guess, tmConf.color);
                
                const rd = g.resultData || {};
                document.getElementById('result-details').innerHTML = `
                    <p>Ê≠£Ëß£: <strong style="color:#ffeb3b">${g.target}</strong> (Ë™§Â∑Æ ${rd.finalDiff})</p>
                    <p>ÊâãÁï™(${tmConf.name}): <strong>+${rd.activePts}ÁÇπ</strong></p>
                    <p>„ÉÅ„É£„É≥„Çπ: ${rd.counterStr}</p>
                `;
            }
            else if (g.phase === 'WIN') {
                document.getElementById('phase-win').classList.remove('hidden');
                statusEl.innerText = "";
                const winner = g.scores.A >= WIN_SCORE ? 'TEAM A' : 'TEAM B';
                document.getElementById('winner-name').innerText = winner;
                document.getElementById('winner-name').style.color = TEAM_CONF[winner.slice(-1)].color;
            }
        }

        function drawVisualResult(target, guess, color) {
            const container = document.getElementById('viz-bar');
            container.innerHTML = ''; 
            function createZone(w, cls) {
                let s = target - w, e = target + w;
                drawR(s, e, cls);
                if (s < 0) drawR(100+s, 100, cls);
                if (e > 100) drawR(0, e-100, cls);
            }
            function drawR(l, r, cls) {
                let div = document.createElement('div');
                div.className = 'zone ' + cls;
                div.style.left = Math.max(0,l)+'%'; div.style.width = (Math.min(100,r)-Math.max(0,l))+'%';
                container.appendChild(div);
            }
            createZone(8, 'zone-2'); createZone(5, 'zone-3'); createZone(2, 'zone-4');
            
            let pin = document.createElement('div');
            pin.className = 'guess-pin';
            pin.style.left = guess + '%';
            pin.style.backgroundColor = color;
            container.appendChild(pin);

            let tPin = document.createElement('div');
            tPin.className = 'target-pin';
            tPin.style.left = target + '%';
            container.appendChild(tPin);
        }
    </script>
</body>
</html>
